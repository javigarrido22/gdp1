{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/javieramorales/Downloads/gdp1/app/egresos/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport Tesseract from \"tesseract.js\"; // Importar Tesseract.js para OCR\n\nconst Egresos = () => {\n  const [egresos, setEgresos] = useState([\n    { id: 1, fecha: \"2023-01-15\", descripcion: \"Alquiler\", monto: 500 },\n    { id: 2, fecha: \"2023-02-10\", descripcion: \"Supermercado\", monto: 200 },\n    { id: 3, fecha: \"2023-02-20\", descripcion: \"Transporte\", monto: 50 },\n    { id: 4, fecha: \"2023-03-05\", descripcion: \"Entretenimiento\", monto: 100 },\n    { id: 5, fecha: \"2023-03-15\", descripcion: \"Servicios\", monto: 150 },\n  ]);\n\n  const [nuevoEgreso, setNuevoEgreso] = useState({\n    fecha: \"\",\n    descripcion: \"\",\n    monto: \"\",\n  });\n\n  const [mesSeleccionado, setMesSeleccionado] = useState<number | null>(null);\n  const [mostrarFormulario, setMostrarFormulario] = useState(false);\n  const [mensajeExito, setMensajeExito] = useState(\"\");\n  const [mensajeError, setMensajeError] = useState(\"\");\n  const [procesandoImagen, setProcesandoImagen] = useState(false);\n\n  const meses = [\n    \"Enero\",\n    \"Febrero\",\n    \"Marzo\",\n    \"Abril\",\n    \"Mayo\",\n    \"Junio\",\n    \"Julio\",\n    \"Agosto\",\n    \"Septiembre\",\n    \"Octubre\",\n    \"Noviembre\",\n    \"Diciembre\",\n  ];\n\n  const handleMesClick = (mes: number) => {\n    setMesSeleccionado(mes);\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setNuevoEgreso({ ...nuevoEgreso, [name]: value });\n  };\n\n  const handleAgregarEgreso = () => {\n    if (!nuevoEgreso.fecha || !nuevoEgreso.descripcion || !nuevoEgreso.monto) {\n      setMensajeError(\"Favor completa todos los campos\");\n      return;\n    }\n\n    setEgresos([\n      ...egresos,\n      {\n        id: egresos.length + 1,\n        fecha: nuevoEgreso.fecha,\n        descripcion: nuevoEgreso.descripcion,\n        monto: parseFloat(nuevoEgreso.monto),\n      },\n    ]);\n\n    setNuevoEgreso({ fecha: \"\", descripcion: \"\", monto: \"\" });\n    setMensajeError(\"\");\n    setMensajeExito(\"Se ha añadido con éxito\");\n    setTimeout(() => setMensajeExito(\"\"), 3000);\n  };\n\n  const handleImagenChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      const file = e.target.files[0];\n      setProcesandoImagen(true); // Mostrar mensaje de procesamiento\n\n      try {\n        const result = await Tesseract.recognize(file, \"eng\"); // Procesar la imagen con OCR\n        const text = result.data.text;\n\n        // Extraer datos del texto (esto es un ejemplo, ajusta según el formato de tus boletas)\n        const fechaMatch = text.match(/\\d{4}-\\d{2}-\\d{2}/); // Buscar fecha en formato YYYY-MM-DD\n        const montoMatch = text.match(/\\d+(\\.\\d{1,2})?/); // Buscar monto (número con decimales)\n        const descripcion = \"Boleta escaneada\"; // Puedes ajustar esto según el texto extraído\n\n        setNuevoEgreso({\n          fecha: fechaMatch ? fechaMatch[0] : \"\",\n          descripcion,\n          monto: montoMatch ? montoMatch[0] : \"\",\n        });\n\n        setMensajeExito(\"Datos escaneados desde la boleta\");\n      } catch (error) {\n        console.error(\"Error al procesar la imagen:\", error);\n        setMensajeError(\"No se pudo procesar la boleta\");\n      } finally {\n        setProcesandoImagen(false); // Ocultar mensaje de procesamiento\n      }\n    }\n  };\n\n  return (\n    <div style={{ padding: \"20px\", maxWidth: \"800px\", margin: \"0 auto\" }}>\n      <h1 style={{ textAlign: \"center\", color: \"#333\", marginBottom: \"20px\" }}>Egresos</h1>\n\n      {/* Franja de meses */}\n      <div style={{ display: \"flex\", justifyContent: \"space-around\", marginBottom: \"20px\" }}>\n        {meses.map((mes, index) => (\n          <button\n            key={index}\n            onClick={() => handleMesClick(index)}\n            style={{\n              padding: \"10px\",\n              backgroundColor: mesSeleccionado === index ? \"#0070f3\" : \"#f0f0f0\",\n              color: mesSeleccionado === index ? \"#fff\" : \"#000\",\n              border: \"1px solid #ddd\",\n              borderRadius: \"5px\",\n              cursor: \"pointer\",\n            }}\n          >\n            {mes}\n          </button>\n        ))}\n        <button\n          onClick={() => setMesSeleccionado(null)}\n          style={{\n            padding: \"10px\",\n            backgroundColor: mesSeleccionado === null ? \"#0070f3\" : \"#f0f0f0\",\n            color: mesSeleccionado === null ? \"#fff\" : \"#000\",\n            border: \"1px solid #ddd\",\n            borderRadius: \"5px\",\n            cursor: \"pointer\",\n          }}\n        >\n          Todos\n        </button>\n      </div>\n\n      {/* Lista de egresos */}\n      <ul style={{ listStyleType: \"none\", padding: 0 }}>\n        {egresos\n          .filter((egreso) =>\n            mesSeleccionado !== null\n              ? new Date(egreso.fecha).getMonth() === mesSeleccionado\n              : true\n          )\n          .map((egreso) => (\n            <li\n              key={egreso.id}\n              style={{\n                border: \"1px solid #ddd\",\n                borderRadius: \"5px\",\n                padding: \"10px\",\n                marginBottom: \"10px\",\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n              }}\n            >\n              <div>\n                <strong>{egreso.fecha}</strong> - {egreso.descripcion}: ${egreso.monto}\n              </div>\n              <button\n                onClick={() => setEgresos(egresos.filter((e) => e.id !== egreso.id))}\n                style={{\n                  padding: \"5px 10px\",\n                  backgroundColor: \"#dc3545\",\n                  color: \"#fff\",\n                  border: \"none\",\n                  borderRadius: \"5px\",\n                  cursor: \"pointer\",\n                }}\n              >\n                Eliminar\n              </button>\n            </li>\n          ))}\n      </ul>\n      {egresos.length === 0 && <p>No hay egresos para este mes.</p>}\n\n      {/* Botón para mostrar/ocultar formulario */}\n      <button\n        onClick={() => setMostrarFormulario(!mostrarFormulario)}\n        style={{\n          padding: \"10px 20px\",\n          backgroundColor: \"#0070f3\",\n          color: \"#fff\",\n          border: \"none\",\n          borderRadius: \"5px\",\n          cursor: \"pointer\",\n          marginTop: \"20px\",\n        }}\n      >\n        {mostrarFormulario ? \"Cancelar\" : \"Añadir\"}\n      </button>\n\n      {/* Formulario para agregar egresos */}\n      {mostrarFormulario && (\n        <div style={{ marginTop: \"20px\", padding: \"20px\", border: \"1px solid #ddd\", borderRadius: \"8px\", backgroundColor: \"#f9f9f9\" }}>\n          <h2 style={{ marginBottom: \"20px\", color: \"#333\", fontSize: \"1.5rem\" }}>Añadir nuevo egreso</h2>\n          \n          <div style={{ marginBottom: \"15px\" }}>\n            <label style={{ display: \"block\", marginBottom: \"5px\", fontWeight: \"bold\", color: \"#555\" }}>\n              Fecha:\n            </label>\n            <input\n              type=\"date\"\n              name=\"fecha\"\n              value={nuevoEgreso.fecha}\n              onChange={handleInputChange}\n              style={{\n                width: \"100%\",\n                padding: \"10px\",\n                border: \"1px solid #ccc\",\n                borderRadius: \"5px\",\n                fontSize: \"1rem\",\n              }}\n            />\n          </div>\n\n          <div style={{ marginBottom: \"15px\" }}>\n            <label style={{ display: \"block\", marginBottom: \"5px\", fontWeight: \"bold\", color: \"#555\" }}>\n              Descripción:\n            </label>\n            <input\n              type=\"text\"\n              name=\"descripcion\"\n              value={nuevoEgreso.descripcion}\n              onChange={handleInputChange}\n              placeholder=\"Descripción\"\n              style={{\n                width: \"100%\",\n                padding: \"10px\",\n                border: \"1px solid #ccc\",\n                borderRadius: \"5px\",\n                fontSize: \"1rem\",\n              }}\n            />\n          </div>\n\n          <div style={{ marginBottom: \"15px\" }}>\n            <label style={{ display: \"block\", marginBottom: \"5px\", fontWeight: \"bold\", color: \"#555\" }}>\n              Monto:\n            </label>\n            <input\n              type=\"number\"\n              name=\"monto\"\n              value={nuevoEgreso.monto}\n              onChange={handleInputChange}\n              placeholder=\"Monto\"\n              style={{\n                width: \"100%\",\n                padding: \"10px\",\n                border: \"1px solid #ccc\",\n                borderRadius: \"5px\",\n                fontSize: \"1rem\",\n              }}\n            />\n          </div>\n\n          <div style={{ marginBottom: \"15px\" }}>\n            <label style={{ display: \"block\", marginBottom: \"5px\", fontWeight: \"bold\", color: \"#555\" }}>\n              Subir boleta:\n            </label>\n            <input\n              type=\"file\"\n              accept=\"image/*,application/pdf\" // Permitir solo archivos de imagen y pdf\n              onChange={handleImagenChange}\n              style={{\n                width: \"100%\",\n                padding: \"10px\",\n                border: \"1px solid #ccc\",\n                borderRadius: \"5px\",\n                fontSize: \"1rem\",\n              }}\n            />\n          </div>\n\n          {procesandoImagen && (\n            <p style={{ color: \"blue\", marginTop: \"15px\", fontWeight: \"bold\", textAlign: \"center\" }}>\n              Procesando imagen, por favor espera...\n            </p>\n          )}\n\n          <button\n            onClick={handleAgregarEgreso}\n            style={{\n              width: \"100%\",\n              padding: \"12px\",\n              backgroundColor: \"#28a745\",\n              color: \"#fff\",\n              border: \"none\",\n              borderRadius: \"5px\",\n              fontSize: \"1rem\",\n              fontWeight: \"bold\",\n              cursor: \"pointer\",\n              transition: \"background-color 0.3s ease\",\n            }}\n          >\n            Agregar\n          </button>\n\n          {mensajeError && (\n            <p style={{ color: \"red\", marginTop: \"15px\", fontWeight: \"bold\", textAlign: \"center\" }}>\n              {mensajeError}\n            </p>\n          )}\n        </div>\n      )}\n\n      {mensajeExito && (\n        <p style={{ color: \"green\", marginTop: \"20px\", fontWeight: \"bold\", textAlign: \"center\" }}>\n          {mensajeExito}\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default Egresos;"],"names":[],"mappings":"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"}}]
}